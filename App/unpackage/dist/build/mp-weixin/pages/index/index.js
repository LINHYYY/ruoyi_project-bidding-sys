(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0a67":function(e,t,n){"use strict";(function(e){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("7624")),u={data:function(){return{keyword:"",pageNum:1,pageSize:20,scrollTop:0,houseList:[],swiperList:[{image:"/static/img/index/swiper/swiper2.png",title:"身无彩凤双飞翼，心有灵犀一点通"},{image:"/static/img/index/swiper/swiper.jpg",title:"身无彩凤双飞翼，心有灵犀一点通"}],noticeList:[],navList:[{name:"整租",src:"/static/img/index/cover_2022/index_cover1.png",type:"0"},{name:"合租",src:"/static/img/index/cover_2022/index_cover2.png",type:"1"},{name:"避坑指南",src:"/static/img/index/cover_2022/index_cover3.png",url:"/pages/center/tips"},{name:"委托房源",src:"/static/img/index/cover_2022/index_cover4.png",type:"2"}],loadStatus:"loadmore",flowList:[],uvCode:e.getStorageSync("uvCode")}},onLoad:function(){var t=this;this.checkCity(),this.findHouseList(),this.getNoticecList(),this.appSysFlowInfo(),e.$on("findIndexHouseList",(function(e){t.findHouseList(1)}))},onUnload:function(){e.$off("findIndexHouseList")},onPageScroll:function(e){this.scrollTop=e.scrollTop},onReachBottom:function(){this.loadStatus="loading",this.findHouseList()},onPullDownRefresh:function(){this.findHouseList(1),e.stopPullDownRefresh()},methods:{checkCity:function(){var t=e.getStorageSync("lifeData"),n=t.vuex_city;if(!n||0==n.length)return this.$u.route("/pages/location/location")},location:function(){this.$u.route({url:"pages/location/location"})},search:function(){this.$u.route({url:"pages/search/search"})},notice:function(){this.$u.route("/pages/webview/webview",{title:"关于我们",src:"https://mp.weixin.qq.com/s/quuexyNJ0NHe8r2ZRLGB5g"})},findHouseList:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==n&&(this.pageNum=1,this.flowList=[],this.$refs.uWaterfall.clear());var i="/api/houseApi/findHouseRoomList";this.$u.get(i,{state:1,villageCity:e.getStorageSync("lifeData").vuex_city,pageNum:this.pageNum,pageSize:this.pageSize,orderByColumn:"update_time,create_time",isAsc:"desc"}).then((function(e){var n=e.rows;if(t.pageNum>1&&n.length<t.pageSize)return t.loadStatus="nomore";t.houseList=n;for(var i=0;i<t.houseList.length;i++){var u=t.houseList[i];u.faceUrl.includes(o.default.staticUrl)?u.image=u.faceUrl:u.image=o.default.staticUrl+u.faceUrl,0==u.type?u.type="整租":1==u.type&&(u.type="合租"),1==u.roomType?u.roomType="主卧":2==u.roomType?u.roomType="次卧":u.roomType="未知",t.$u.test.isEmpty(u.houseNum)&&(u.houseNum=""),t.$u.test.isEmpty(u.houseHall)&&(u.houseHall=""),t.$u.test.isEmpty(u.toiletNum)&&(u.toiletNum=""),t.flowList.push(u)}++t.pageNum,t.loadStatus="loadmore"}))},clickSearch:function(){this.$u.route("/pages/search/search")},clickImage:function(e){this.$u.route({url:"/pages/detail/detail",params:{houseId:e}})},clickNav:function(t){var n=this;if(t.url)return this.$u.route(t.url);if("2"===t.type){var i=e.getStorageSync("lifeData"),o=i.vuex_token;if(o){return this.$u.get("/api/profile/isExpiration",{token:o}).then((function(t){return t.data?e.reLaunch({url:"../login/login"}):n.$u.route("/pages/detail/preHouse")}))}return e.reLaunch({url:"../login/login"})}return t.type?this.$u.route({url:"/pages/search/searchList",params:{type:t.type}}):void 0},code:function(){this.$mytip.toast("请咨询作者")},appSysFlowInfo:function(){var t=e.getStorageSync("uvCode"),n="https://sourcebyte.cn/api/flow/upFlow?type=MINI&uvCode="+t;e.request({url:n,method:"POST",success:function(t){e.setStorageSync("uvCode",t.data.data)}})},server:function(){e.makePhoneCall({phoneNumber:"18720989281"})},getNoticecList:function(){var e=this;this.$u.get("/api/notice/findNoticeList",{pageNum:1,pageSize:50,orderByColumn:"create_time",isAsc:"desc"}).then((function(t){var n=t.rows;n.filter((function(t){e.noticeList.push(t.noticeTitle)}))}))},moreInfo:function(){e.navigateToMiniProgram({appId:"wxbca64173e772915e",path:"/pages/index/index",envVersion:"release",success:function(e){console.log("打开成功",e)},fail:function(e){console.log(e)}})}}};t.default=u}).call(this,n("543d")["default"])},"5b01":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var i={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"cb23"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"ef11"))},uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,"7d61"))},uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"9849"))},uRow:function(){return n.e("uview-ui/components/u-row/u-row").then(n.bind(null,"b03c"))},uCol:function(){return n.e("uview-ui/components/u-col/u-col").then(n.bind(null,"90d2"))},uGap:function(){return n.e("uview-ui/components/u-gap/u-gap").then(n.bind(null,"0f4b"))},uNoticeBar:function(){return n.e("uview-ui/components/u-notice-bar/u-notice-bar").then(n.bind(null,"fa9e"))},uWaterfall:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-waterfall/u-waterfall")]).then(n.bind(null,"39ee"))},uLazyLoad:function(){return n.e("uview-ui/components/u-lazy-load/u-lazy-load").then(n.bind(null,"fbaf"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"0181"))},uBackTop:function(){return n.e("uview-ui/components/u-back-top/u-back-top").then(n.bind(null,"5efa"))},uNoNetwork:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-no-network/u-no-network")]).then(n.bind(null,"6ede"))}},o=function(){var e=this.$createElement;this._self._c},u=[]},"69de":function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("104b");i(n("66fd"));var o=i(n("8fad"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},7688:function(e,t,n){},"8fad":function(e,t,n){"use strict";n.r(t);var i=n("5b01"),o=n("cab6");for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n("c445");var a=n("f0c5"),r=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"79ae5106",null,!1,i["a"],void 0);t["default"]=r.exports},c445:function(e,t,n){"use strict";var i=n("7688"),o=n.n(i);o.a},cab6:function(e,t,n){"use strict";n.r(t);var i=n("0a67"),o=n.n(i);for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=o.a}},[["69de","common/runtime","common/vendor"]]]);